function FastClick(t){"use strict";var e,n=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.layer=t,!t||!t.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(n,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(n,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(n,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(n,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(n,arguments)},void 0!==window.ontouchstart&&(this.deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var a=Node.prototype.removeEventListener;"click"===e?a.call(t,e,n.hijacked||n,i):a.call(t,e,n,i)},t.addEventListener=function(e,n,i){var a=Node.prototype.addEventListener;"click"===e?a.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):a.call(t,e,n,i)}),"function"==typeof t.onclick&&(e=t.onclick,t.addEventListener("click",function(t){e(t)},!1),t.onclick=null))}FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"input":return this.deviceIsIOS&&"file"===t.type?!0:t.disabled;case"label":case"video":return!0;default:return/\bneedsclick\b/.test(t.className)}},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},FastClick.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,n,i;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],this.deviceIsIOS){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,200>t.timeStamp-this.lastClickTime&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0];return Math.abs(e.pageX-this.touchStartX)>10||Math.abs(e.pageY-this.touchStartY)>10?!0:!1},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,n,i,a,s,o=this.targetElement;if(this.touchHasMoved(t)&&(this.trackingClick=!1,this.targetElement=null),!this.trackingClick)return!0;if(200>t.timeStamp-this.lastClickTime)return this.cancelNextClick=!0,!0;if(this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(s=t.changedTouches[0],o=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)),i=o.tagName.toLowerCase(),"label"===i){if(e=this.findControl(o)){if(this.focus(o),this.deviceIsAndroid)return!1;o=e}}else if(this.needsFocus(o))return t.timeStamp-n>100||this.deviceIsIOS&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(o),this.deviceIsIOS4&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(a=o.fastClickScrollParent,a&&a.fastClickLastScrollTop!==a.scrollTop)?!0:(this.needsClick(o)||(t.preventDefault(),this.sendClick(o,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;this.deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.attach=function(t){"use strict";return new FastClick(t)},"undefined"!=typeof define&&define.amd&&define(function(){"use strict";return FastClick}),"undefined"!=typeof module&&module.exports&&(module.exports=FastClick.attach,module.exports.FastClick=FastClick),function(){"use strict";var t=function t(){var t,e,n="";for(t=0;32>t;t++)e=0|16*Math.random(),(8===t||12===t||16===t||20===t)&&(n+="-"),n+=(12===t?4:16===t?8|3&e:e).toString(16);return n},e=function e(t){var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=t-3600*e-60*n;return 10>e&&(e="0"+e),10>n&&(n="0"+n),10>i&&(i="0"+i),e+":"+n+":"+i},n=function n(){var t=0,e=null,n=new Audio("media/beep.ogg");n.loop=!0,this.startAlarm=function(){t++,2>t&&(n.play(),navigator.vibrate&&s())},this.stopAlarm=function(){t>0&&t--,0===t&&(n.pause(),n.currentTime=0,navigator.vibrate&&a())};var i=function i(){navigator.vibrate(200)},a=function a(){window.clearInterval(e),navigator.vibrate(0)},s=function s(){e=window.setInterval(i,1e3)}},i=function i(t,n,i){this.time=0,this.status="off",this.elDisplay=t,this.elButton=n,this.alarm=i;var a=null,s=this;this.start=function(t){r(t),s.status="ticking",s.alarm.stopAlarm(),l()},this.stop=function(){c(),s.status="off",l()},this.dismissAlarm=function(){"alarm"===s.status&&(s.status="off",l())};var o=function o(){s.time--,0===s.time&&(c(),s.status="alarm"),l()},r=function r(t){s.time=t,a=window.setInterval(o,1e3)},c=function c(){s.time=0,window.clearInterval(a)},l=function l(){switch(s.elDisplay.textContent=e(s.time),s.status){case"ticking":s.elButton.innerHTML="Stop",s.elDisplay.classList.remove("finished");break;case"alarm":s.elButton.innerHTML="Start",s.elDisplay.classList.add("finished"),s.alarm.startAlarm();break;case"off":s.elButton.innerHTML="Start",s.elDisplay.classList.remove("finished"),s.alarm.stopAlarm();break;default:alert("Something went wrong")}}},a=function a(e,n){this.id=t(),this.duration=e,this.description=n};document.onreadystatechange=function(){if("interactive"===document.readyState){new FastClick(document.body);var t=[],s=0,o=new n,r=document.getElementById("hplus"),c=document.getElementById("hminus"),l=document.getElementById("hours"),u=document.getElementById("mplus"),d=document.getElementById("mminus"),m=document.getElementById("mins"),h=document.getElementById("splus"),p=document.getElementById("sminus"),v=document.getElementById("secs"),f=document.getElementById("btn1"),g=document.getElementById("btn2"),k=document.getElementById("btn3"),E=document.getElementById("timer1"),y=document.getElementById("timer2"),C=document.getElementById("timer3"),I=document.getElementById("sidepanelbtn"),S=document.getElementById("addpreset"),L=new i(E,f,o),T=new i(y,g,o),w=new i(C,k,o);f.timer=E.timer=L,g.timer=y.timer=T,k.timer=C.timer=w;var b=function b(){return 3600*Number(l.value)+60*Number(m.value)+Number(v.value)},F=function F(t){var e=Number(t),n=0,i=0,a=0;n=Math.floor(e/3600),i=Math.floor((e-3600*n)/60),a=e-3600*n-60*i,l.value=n,m.value=i,v.value=a},B=function B(){document.getElementById("center-panel").classList.toggle("sidepanel-enabled")},M=function M(){document.getElementById("presets").innerHTML="",t.forEach(function(t){var n=e(t.duration),i=t.description,a='<div class="description">'+i+'</div><div class="duration">'+n+"</div>",s=document.createElement("li");s.dataset.id=t.id,s.innerHTML=a,s.addEventListener("click",j,!1),document.getElementById("presets").appendChild(s)})},N=function N(){var t=Number(l.value)+1;l.value=t>23?0:t},O=function O(){var t=Number(l.value)-1;l.value=0>t?23:t},A=function A(){var t=Number(m.value)+1;m.value=t>59?0:t},P=function P(){var t=Number(m.value)-1;m.value=0>t?59:t},D=function D(){var t=Number(v.value)+1;v.value=t>59?0:t},x=function x(){var t=Number(v.value)-1;v.value=0>t?59:t},X=function X(){this.value.length>2&&(this.value=this.value.slice(0,2))},Y=function Y(t){var e=t.target.timer;"ticking"===e.status?e.stop():b()?(e.start(b()),s=b(),q()):alert("Select time first")},H=function H(t){var e=t.target.timer;e.dismissAlarm()},_=function(t){t.preventDefault(),t.stopPropagation(),B()},j=function j(e){e.preventDefault(),e.stopPropagation();var n=e.currentTarget.dataset.id;t.forEach(function(t){t.id===n&&(F(t.duration),B())})},J=function J(e){e.preventDefault(),e.stopPropagation();var n=b();if(n){var i=prompt("Preset description"),s=i.trim();if(s){var o=new a(n,s);t.push(o),R(),M()}else alert("You must enter a description first.")}else alert("Enter duration first.")};r.addEventListener("click",N,!1),c.addEventListener("click",O,!1),u.addEventListener("click",A,!1),d.addEventListener("click",P,!1),h.addEventListener("click",D,!1),p.addEventListener("click",x,!1),f.addEventListener("click",Y,!1),g.addEventListener("click",Y,!1),k.addEventListener("click",Y,!1),E.addEventListener("click",H,!1),y.addEventListener("click",H,!1),C.addEventListener("click",H,!1),l.addEventListener("input",X,!1),m.addEventListener("input",X,!1),v.addEventListener("input",X,!1),I.addEventListener("click",_,!1),S.addEventListener("click",J,!1);var R=function R(){localStorage.setItem("presets",JSON.stringify(t))},W=function W(){localStorage.getItem("presets")||localStorage.setItem("presets",JSON.stringify([])),t=JSON.parse(localStorage.getItem("presets"))},q=function q(){s=localStorage.setItem("last",s)},z=function z(){localStorage.getItem("last")||localStorage.setItem("last",0),s=localStorage.getItem("last")};z(),F(s),W(),M()}}}();